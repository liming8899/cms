<!DOCTYPE html>
<html lang="en">
<head th:replace="common/head::head(${view.name})"></head>

<body>
<header th:replace="common/header::header(${currentNavList},${breadCrumb})"></header>
<section th:replace="common/search"></section>
<section th:replace="common/nav"></section>
<section>
    <div class="wrapper findings">
        <th:block th:each="nav, navStat : ${childNavList}" th:if="${navStat.index} eq 0">
            <div class="page-title">
                <h3>[[${view.name}]]</h3>
                <a class="more" th:href="@{'/'+${nav.path}}">[[#{More}]]</a>
            </div>
            <div class="flexbox _content-sb mt40">
                <th:block th:if="${#lists.size(nav.articleList) > 0}">
                    <div class="study-swiper-wrap" >
<!--                        <th:block th:each="article, articleStat : ${nav.articleList}" th:if="${articleStat.index} eq 0">-->
<!--                            <img th:src="@{${article.coverImage}}" th:alt="${article.title}" onerror="this.src='https://cloud-assets-brwq.oss-cn-heyuan.aliyuncs.com/sh0722/uploads/20220722/6f99e70d29e4df3058f9484dba0d2390.png';this.οnerrοr=null">-->
<!--                        </th:block>-->
                        <img th:src="@{/images/xh_news.jpg}" />
                    </div>
                    <div class="study-ctx-wrap">
                        <a th:href="@{'/article/'+${nav.id}+'/'+${article.id}}" th:each="article, articleStat : ${nav.articleList}" th:if="${articleStat.index} eq 0">
                            <div class="study-ctx-title">
                                <h3 class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'zh_CN'}">[[${article?.get('title')}]]</h3>
                                <h3 class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'en_US' and !#strings.isEmpty(article?.get('enTitle'))}">[[${article?.get('enTitle')}]]</h3>
                                <h3 class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'en_US' and #strings.isEmpty(article?.get('enTitle'))}">[[${article?.get('title')}]]</h3>
                                <h3 class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'ru_RU' and !#strings.isEmpty(article?.get('ruTitle'))}">[[${article?.get('ruTitle')}]]</h3>
                                <h3 class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'ru_RU' and #strings.isEmpty(article?.get('ruTitle'))}">[[${article?.get('title')}]]</h3>

                                <h4 class="ellipsis2" th:if="${#strings.trim(lang_session) eq 'zh_CN'}">[[${article?.get('description')}]]</h4>
                                <h4 class="ellipsis2" th:if="${#strings.trim(lang_session) eq 'en_US' and !#strings.isEmpty(article?.get('enDescription'))}">[[${article?.get('enDescription')}]]</h4>
                                <h4 class="ellipsis2" th:if="${#strings.trim(lang_session) eq 'en_US' and #strings.isEmpty(article?.get('enDescription'))}">[[${article?.get('description')}]]</h4>
                                <h4 class="ellipsis2" th:if="${#strings.trim(lang_session) eq 'ru_RU' and !#strings.isEmpty(article?.get('ruDescription'))}">[[${article?.get('ruDescription')}]]</h4>
                                <h4 class="ellipsis2" th:if="${#strings.trim(lang_session) eq 'ru_RU' and #strings.isEmpty(article?.get('ruDescription'))}">[[${article?.get('description')}]]</h4>
                            </div>
                        </a>
                        <ul>
                            <li th:each="article, articleStat : ${nav.articleList} " th:if="${articleStat.index ge 1 && articleStat.index le 5}">
                                <a th:href="@{'/article/'+${nav.id}+'/'+${article.id}}">
                                    <div class="study-ctx-item" >
                                        <div class="icon"></div>
                                        <p class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'zh_CN'}">[[${article?.get('title')}]]</p>
                                        <p class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'en_US' and !#strings.isEmpty(article?.get('enTitle'))}">[[${article?.get('enTitle')}]]</p>
                                        <p class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'en_US' and #strings.isEmpty(article?.get('enTitle'))}">[[${article?.get('title')}]]</p>
                                        <p class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'ru_RU' and !#strings.isEmpty(article?.get('ruTitle'))}">[[${article?.get('ruTitle')}]]</p>
                                        <p class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'ru_RU' and #strings.isEmpty(article?.get('ruTitle'))}">[[${article?.get('title')}]]</p>

                                        <p class="time" th:data-time="${#dates.format(article.createTime,'yyyy-MM-dd')}"></p>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                </th:block>
            </div>
        </th:block>
        <div class="study-img1 mt20 mb20">
            <img th:src="@{/images/zhxx-img2.jpg}" alt="">
        </div>
        <div class="study-grid-wrap mb60">
            <th:block  th:each="nav, navStat : ${thirdLevelList[0]}">
                <div class="study-grid-item">
                    <a th:href="@{'/'+${nav.path}}" class="study-grid-title">
                        <p>[[${nav.name}]]</p>
                        <i class="iconfont icon-zhxx-right"></i>
                    </a>
                    <ul>
                        <li>
                            <a th:onclick="goCountryGuide([[${nav.id}]],[[${article.title}]])"  th:each="article, articleStat : ${nav.countryGuideResList} " th:if="${ articleStat.index lt articleStat.count}">
                                <div class="study-ctx-item">
                                    <div class="icon"></div>
                                    <p class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'zh_CN'}">[[${article?.get('title')}]]</p>
                                    <p class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'en_US'}">[[${article?.get('enTitle')}]]</p>
                                    <p class="ellipsis1" th:if="${#strings.trim(lang_session) eq 'ru_RU'}">[[${article?.get('ruTitle')}]]</p>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </th:block>
        </div>
    </div>
</section>
<footer th:replace="common/footer"></footer>
<script src="js/jquery.base64.js" type="text/javascript"></script>
<script th:inline="javascript">
    let lang=[[${lang_session}]]
    $('.study-ctx-item>.time').each(function () {
        const dataTime = $(this).attr('data-time')
        $(this).text(bm.translateDate(dataTime, lang))
    })
    function goCountryGuide(menuId, title) {
        window.location.href = '/countryGuide/'+menuId+'/'+$.base64.encode(title).replaceAll('+','plus').replaceAll('/','slash')
    }
</script>
</body>
<style>
    a {
        cursor: pointer;
    }
</style>
</html>